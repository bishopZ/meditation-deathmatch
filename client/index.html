<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--[if lt IE 8]> <html class="ie ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="ie ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="ie ie9 oldie" lang="en"> <![endif]-->
<!--[if IE 10]>    <html class="ie ie10 oldie" lang="en"> <![endif]-->
<!--[if gt IE 10]><!--> <html class="ie" lang="en"> <!--<![endif]-->
  <head>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Meditation Deathmatch</title>

    <meta name="description" content="a game" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <base target="_blank" />

    <style type="text/css">

        body {
            background-color: #000 !important; 
        }

        p {
            font-family: franklin_gothic !important;    
        }

    	/* Some base page styles */
		#screen p { 
			line-height: 22px; 
			padding: 0; margin: 0; 
			width: 100%;	
		}

		#screen .display {
			width: 100%;
		}

		/* The poor man's progress bar */
		#screen .score .inner {
			float: left;
			position: relative;
			width:100%;
			height: 18px;
			/*background: #d8d8d8;*/
		}
		#screen .score {
			display: inline-block;
			width: 200px;
			height: 20px;
			/*border: 1px solid #d8d8d8;*/
			border-radius: 5px;
			clear: both;
		}

        #container .progress {
            margin-bottom: 0px;
        }
        #container .button {
            border-radius: 0;
            width: 273px;
            height: 87px;
            cursor: pointer;
        }

    </style>

  </head>
  <body>

    <div id="container">
        <!-- <div class="progress progress-striped active">
          <div class="progress-bar"  role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 45%">
            <span class="sr-only">45% Complete</span>
          </div>
        </div>
    
        <div class="progress progress-striped active">
          <div class="progress-bar"  role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 45%">
            <span class="sr-only">65% Complete</span>
          </div>
        </div> -->
    </div>
	
    </div>

    <script type="x-tmpl" id="tmpl-intro">
        <div class="square">
            <img src="media/background3.png" />
            <div class="button button-left" role="button">
                <p>Word</p>
            </div>
            <div class="button button-right" role="button">
                <p>Word</p>
            </div>
            <!-- <button type="button" class="btn btn-success btn-start">Connect</button> -->
            
        </div>
    </script>

  	<script src="./base/require/require.js"></script> 
    <script>

// same as on document ready
require([], function () {

    require.config({
        baseUrl: './base/',
        paths: {

            'modernizr': 'modernizr-2.0.6.min',
            'jquery': 'jquery/jquery-1.9.1.min',
            'jquery.center': 'jquery/jquery.center.min',
            'underscore': 'underscore-min',
            'typecast': 'typecast/typecast.raw', // replace with $.type?
            'frame': 'frame2',
            'model': 'ModelAgent',
            'socket.io': 'socket.io/socket.io',
            'lscache': 'lscache', 

            'bootstrap': 'bootstrap/js/bootstrap.min',
            'moment': 'moment.min',
        	
			// TODO: more magic!
			//    script src="./base/jquery/jquery.ui.core.js"> 
			//    script src="./base/d3.min.js">
			//    script src="./base/jquery/jquery.tmpl.js">
		
        },
        map: {
            '*': {
                'css': 'require/require.css',
                'text': 'require/require.text'
            }
        }
    });

    // require(['./game.js'], function(game){
    // 	console.log('done');
    // });
    require(
    ['jquery', 'typecast', 'frame', 'model', 'socket.io', 'lscache', 'moment', 
        'bootstrap',
        'jquery.center',
        'css!/base/bootstrap/css/bootstrap.min.css',
        //'css!bootstrap/css/bootstrap-theme.min.css',
        //    /bootstrap/bootstrap-responsive.min.css
        'css!stylist/style.css',
        //    /stylist/layout.css
        //    /stylist/forms.css
        //    /bootstrap/font-awesome.min.css
        'css!/media/franklin/stylesheet.css'
    ], function($, type, Frame, Model, socket, lscache, moment) {

        var $container = $('#container');
        $container.append($('#tmpl-intro').html());

        // on slide chage
            // load view

        // game state machine

            // Title Screen
                // Holder Screen
            // Device Setup
                // Game Select: Single or Multi
                // Player Profile
            // Game
                // Game Intro
                // Game Outro
            // Scorecard
                // High Scores

            // Networking
            // Display Mode

        var io = socket.connect();

        var $square = $('.square');
        $square.css({
            height: 793,
            width: 1291,
            // background: '#d8d8d8',
            position: 'absolute'
        })
        .center({
            top     : 40
        });

        var $left = $('.button-left')
        $left.css({
                'position': 'absolute',
                'font-size': '50px',
                'padding': '40px 40px',
                'border-radius': '20px',
                'margin-left': -140
            })
            .center({
                against : 'parent',
                top: 263
            })
            .on('click', function(){
                
                //io.emit('adapter:start');
                console.log('connect');

            });

        var $leftLabel = $left.find('p')
        $leftLabel.css({
                'font-size':28,
                color: '#ffffff',
                'text-transform': 'uppercase'
            });
        var leftWidth = $leftLabel.width();
        $leftLabel.css({
                'margin-left':250 - leftWidth
            });

        var $right = $('.button-right')
            .css({
                'position': 'absolute',
                'font-size': '50px',
                'padding': '40px 40px',
                'border-radius': '20px',
                'margin-left': 140
            })
            .center({
                against : 'parent',
                top: 263
            })
            .on('click', function(){
                io.emit('adapter:start');
                console.log('connect');
            });

        var $rightLabel = $right.find('p')
        $rightLabel.css({
                'font-size':28,
                color: '#ffffff',
                'text-transform': 'uppercase'
            });
        var rightWidth = $rightLabel.width();
        $rightLabel.css({
                'margin-left':250 - rightWidth
            });




        // $('.progress')
            // .css({
            //     position: 'absolute'
            // })
            // .center();

    });

});

  	</script>

  </body>
</html>